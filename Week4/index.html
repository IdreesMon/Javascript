<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local storage example</title>
</head>
<body>
    <h1>Local Storage Example</h1>
    <select>
        <option>Black</option>
        <option>White</option>
        <option>Blue</option>Â 
    </select>
    <input type="color">
    <button>Save</button>
    <button>Clear</button>

    <script>

        var settings = {
            bg:select.value,
            text:input.value
        }
        //first step query select element

    

        // var select = q(`select`)
        // var body = q(`body`)
        // var h1 = q(`h1`)
        // var input = q(`input[type="color"]`)
        // var buttons = document.querySelectorAll('button')

        //first check if there is anything to store in storage
        if(typeof(Storage)!== undefined)
        {

            settings = JSON.parse(localStorage.getItem(`settings`))
            body.style.backgroundColor = settings.bg
            select.value = settings.bg
            h1.style.color = settings.text
            input.value = settings.text


            // var bg = localStorage.getItem(`bgColor`)
            // var reg = localStorage.getItem(`regColor`)

            // body.style.backgroundColor = bg
            // h1.style.color = reg
            // select.value = bg
            // input.value = reg

        }
    

        select.addEventListener('input', e=>{
            //body.style.backgroundColor = select.value
            settings.bg = select.value 
            
        })

        input.addEventListener(`input`, e=>{
           settings.text = input.value
        })

        buttons[0].addEventListener(`click`, e =>{
            localStorage
            settings = JSON.parse(localStorage.getItem(`settings`))
            body.style.backgroundColor = settings.bg
            select.value = settings.bg
            h1.style.color = settings.text
            input.value = settings.text
    
        })

        buttons[1].addEventListener(`click`, e=>{
            localStorage.clear();
            
        })

        


        function q(element)
        {
            return document.querySelector(element)
        }

    


    </script>
    
</body>
</html>